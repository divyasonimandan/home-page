---
import "../styles/global.css";

interface Props {
	title?: string;
	description?: string;
}

const {
	title = "Divya Soni Mandan — Full-Stack Developer",
	description = "Full-stack developer with a frontend focus. Building thoughtful, performant web experiences with React, Astro, and TypeScript.",
} = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<meta name="author" content="Divya Soni Mandan" />

		<!-- Open Graph -->
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:type" content="website" />

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
			rel="stylesheet"
		/>

		<!-- Favicon -->
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

		<title>{title}</title>

		<!-- Theme script (prevents flash) -->
		<script is:inline>
			const theme =
				localStorage.getItem("theme") ||
				(window.matchMedia("(prefers-color-scheme: dark)").matches
					? "dark"
					: "light");
			document.documentElement.classList.toggle("dark", theme === "dark");
		</script>
	</head>
	<body class="bg-paper dark:bg-paper-dark min-h-screen">
		<!-- Grain overlay -->
		<div class="grain" aria-hidden="true"></div>

		<!-- Navigation -->
		<nav
			class="fixed top-0 left-0 right-0 z-50 px-6 py-4 backdrop-blur-md bg-paper/80 dark:bg-paper-dark/80 border-b border-ink/5 dark:border-ink-dark/5"
		>
			<div class="max-w-5xl mx-auto flex items-center justify-between">
				<!-- Logo/Name -->
				<a
					href="/"
					class="font-display text-xl text-ink dark:text-ink-dark hover:text-accent transition-colors"
				>
					dsm<span class="text-accent">.</span>
				</a>

				<!-- Nav Links -->
				<div class="flex items-center gap-8">
					<ul
						class="hidden sm:flex items-center gap-6 text-sm font-medium text-stone dark:text-stone-dark"
					>
						<li>
							<a
								href="#about"
								class="link-underline hover:text-ink dark:hover:text-ink-dark transition-colors"
								>About</a
							>
						</li>
						<li>
							<a
								href="#work"
								class="link-underline hover:text-ink dark:hover:text-ink-dark transition-colors"
								>Work</a
							>
						</li>
						<li>
							<a
								href="#contact"
								class="link-underline hover:text-ink dark:hover:text-ink-dark transition-colors"
								>Contact</a
							>
						</li>
					</ul>

					<!-- Theme Toggle -->
					<button
						id="theme-toggle"
						aria-label="Toggle dark mode"
						class="p-2 rounded-full hover:bg-surface dark:hover:bg-surface-dark transition-colors"
					>
						<!-- Sun icon (dark mode) -->
						<svg
							class="hidden dark:block w-5 h-5 text-ink-dark"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
							></path>
						</svg>
						<!-- Moon icon (light mode) -->
						<svg
							class="block dark:hidden w-5 h-5 text-ink"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="1.5"
								d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
							></path>
						</svg>
					</button>
				</div>
			</div>
		</nav>

		<!-- Main Content -->
		<main>
			<slot />
		</main>

		<!-- Footer -->
		<footer class="py-12 px-6 border-t border-ink/5 dark:border-ink-dark/5">
			<div
				class="max-w-5xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-stone dark:text-stone-dark"
			>
				<p>© 2026 Divya Soni Mandan. Crafted with intention.</p>
				<div class="flex items-center gap-4">
					<a
						href="https://github.com"
						target="_blank"
						rel="noopener"
						class="hover:text-accent transition-colors">GitHub</a
					>
					<a
						href="https://linkedin.com"
						target="_blank"
						rel="noopener"
						class="hover:text-accent transition-colors">LinkedIn</a
					>
				</div>
			</div>
		</footer>

		<!-- Theme toggle script -->
		<script>
			const toggle = document.getElementById("theme-toggle");
			toggle?.addEventListener("click", () => {
				const isDark = document.documentElement.classList.toggle("dark");
				localStorage.setItem("theme", isDark ? "dark" : "light");
			});
		</script>
	</body>
</html>
